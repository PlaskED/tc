#ifndef TCHEADER_H
#define TCHEADER_H

const float modifier{1.495}; //prot stance and defiance modifier
const float hs8{138+145}; //damage bonus + innate threat
const float hs9{157+145}; //damage bonus + innate threat

class Weapon
{
 public:
 Weapon(std::string n, float d, float s) : name(n), dps(d), speed(s) {};
    ~Weapon() {}

    std::vector<std::pair<int, std::pair<float,float>>> tpsVec;
    std::string name;
    float dps;
    float speed;
    float procTPS{0};

    virtual void calc_proc() {};
    void calculate_ranges(const std::vector<int> range);
  
};

class ProcWeapon : public Weapon
{
 public:
 ProcWeapon(std::string name, std::string serv, float proc,
	    float dps, float speed, bool hass, bool hasr)
     : Weapon(name, dps, speed) {};
    ~ProcWeapon() {}

    std::string server;
    float procRate;
    bool hasSlam;
    bool hasRev;

    void calc_proc() {};
};

class Thunderfury : public ProcWeapon
{
 public:
 Thunderfury(std::string name, std::string server, float proc,
	     float dps, float speed, bool hasNr,
	     bool hass, bool hasr) 
     : ProcWeapon(name, server, proc, dps, speed, hass, hasr),
	hasNrdmg(hasNr) {};
    ~Thunderfury() {}

    bool hasNrdmg;

    void calc_proc();
};

class Ironfoe : public ProcWeapon
{
 public:
 Ironfoe(std::string name, std::string serv, float proc,
	 float dps, float speed, bool hass, bool hasr) 
     : ProcWeapon(name, serv, proc, dps, speed, hass, hasr) {};
    ~Ironfoe() {}
    
    void calc_proc();
};

class Viskag : public ProcWeapon
{
 public:
 Viskag(std::string name, std::string serv, float proc,
	 float dps, float speed, bool hass, bool hasr) 
     : ProcWeapon(name, serv, proc, dps, speed, hass, hasr) {};
    ~Viskag() {}

    void calc_proc();
};

#endif
